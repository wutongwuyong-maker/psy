# 心理检测管理系统 - 教师使用手册

## 📖 目录

1. [系统概述](#系统概述)
2. [登录系统](#登录系统)
3. [仪表板概览](#仪表板概览)
4. [学生信息管理](#学生信息管理)
5. [检测记录管理](#检测记录管理)
6. [报告管理](#报告管理)
7. [数据统计分析](#数据统计分析)
8. [系统设置](#系统设置)
9. [常见问题](#常见问题)
10. [技术支持](#技术支持)

---

## 系统概述

### 🎯 系统功能

心理检测管理系统是专为学校设计的心理状态监测与数据管理平台，主要功能包括：

- **学生信息管理**：批量导入、管理学生基础信息
- **检测记录管理**：查看、筛选、管理学生心理检测记录
- **报告生成**：自动生成和下载学生心理检测报告
- **数据统计**：多维度数据分析和可视化展示
- **客户端对接**：支持心理检测设备数据自动上传

### 🏗️ 系统架构

- **前端界面**：Vue.js + Element Plus（现代化Web界面）
- **后端服务**：FastAPI（高性能API服务）
- **数据库**：MySQL（稳定可靠的数据存储）

---

## 登录系统

### 🔐 首次登录

1. **访问系统**
   - 打开浏览器，访问：`http://localhost:8080`
   - 系统会自动跳转到登录页面

2. **默认管理员账户**
   - 用户名：`admin`
   - 密码：`password`

3. **登录操作**
   - 输入用户名和密码
   - 点击"登录"按钮
   - 登录成功后自动跳转到仪表板

### 🔒 安全建议

- 首次登录后请立即修改默认密码
- 建议使用强密码（包含大小写字母、数字、特殊字符）
- 定期更换密码

---

## 仪表板概览

### 📊 统计卡片

仪表板首页显示四个关键统计指标：

1. **总学生数**：系统中注册的学生总数
2. **检测记录**：所有心理检测记录的总数
3. **异常记录**：检测结果为异常的学生数量
4. **今日检测**：当天进行心理检测的学生数量

### 📈 数据图表

#### 检测趋势分析

- **功能**：显示指定时间段内的检测数量趋势
- **操作**：
  1. 点击右上角的时间选择器
  2. 选择"最近7天"、"最近30天"或"最近90天"
  3. 图表自动更新显示趋势数据

#### 异常状态分布

- **功能**：饼图显示正常与异常检测记录的比例
- **用途**：快速了解整体心理健康状况

#### 问卷得分统计

- **功能**：柱状图显示焦虑、抑郁、压力三个维度的得分分布
- **分数段**：0-10、11-15、16-20、21-25、26-30
- **用途**：分析学生心理状态分布情况

#### 班级学生分布

- **功能**：饼图显示各班级的学生人数分布
- **用途**：了解学生班级分布情况

### 📋 最近检测记录

- **功能**：显示最近10条检测记录
- **信息**：学生姓名、学号、班级、检测时间、状态
- **操作**：点击"查看详情"可查看完整检测记录

---

## 学生信息管理

### 📥 批量导入学生

#### 准备Excel文件

1. **创建Excel文件**，包含以下列（列名必须完全一致）：

   ```
   | name | student_id | class_name | gender |
   |------|------------|------------|--------|
   | 张三 | A00123     | 计算机1班  | 男     |
   | 李四 | A00124     | 计算机1班  | 女     |
   ```

2. **数据要求**：
   - `name`：学生姓名（必填）
   - `student_id`：学号（必填，唯一）
   - `class_name`：班级名称（必填）
   - `gender`：性别（必填，只能填"男"或"女"）

#### 执行导入操作

1. **进入学生管理页面**
   - 点击左侧菜单"学生管理"
   - 或访问：`http://localhost:8080/student-management`

2. **点击导入按钮**
   - 点击页面上的"导入Excel"按钮
   - 系统弹出文件选择对话框

3. **选择文件并导入**
   - 选择准备好的Excel文件
   - 点击"开始导入"
   - 等待系统处理完成

4. **查看导入结果**
   - 系统显示详细导入结果：
     - ✅ 成功导入数量
     - ⚠️ 重复数据数量（学号已存在）
     - ❌ 错误数据数量（格式错误或必填字段为空）

### 👥 学生信息管理

#### 查看学生列表

- **筛选功能**：
  - 按姓名筛选：输入学生姓名关键词
  - 按学号筛选：输入学号关键词
  - 按班级筛选：输入班级名称关键词
  - 按性别筛选：选择"男"、"女"或"全部"

- **排序功能**：
  - 按姓名排序
  - 按学号排序
  - 按班级排序
  - 按创建时间排序
  - 支持升序/降序

- **分页功能**：
  - 每页显示10/20/50/100条记录
  - 支持跳转到指定页面

#### 新增学生

1. **点击"新增学生"按钮**
2. **填写学生信息**：
   - 姓名：输入学生真实姓名
   - 学号：输入唯一学号
   - 班级：输入班级名称
   - 性别：选择"男"或"女"
3. **点击"保存"按钮**

#### 编辑学生信息

1. **在学生列表中找到目标学生**
2. **点击"编辑"按钮**
3. **修改需要更新的信息**
4. **点击"保存"按钮**

#### 删除学生

1. **在学生列表中找到目标学生**
2. **点击"删除"按钮**
3. **确认删除操作**
   - 系统会弹出确认对话框
   - 点击"确认"完成删除

### 🔍 学号验证

- **功能**：检查学号是否已存在
- **使用场景**：新增学生时自动验证
- **提示信息**：如果学号已存在，系统会显示错误提示

---

## 检测记录管理

### 📋 查看检测记录

#### 进入检测记录页面

- 点击左侧菜单"检测记录"
- 或访问：`http://localhost:8080/test-records`

#### 视图模式切换

- **大图标模式**：卡片式展示，适合快速浏览
- **列表模式**：表格式展示，适合详细查看

#### 筛选功能

- **用户ID**：输入学号进行筛选
- **姓名**：输入学生姓名进行筛选
- **班级**：输入班级名称进行筛选
- **性别**：选择性别进行筛选
- **检测时间**：选择开始和结束日期
- **异常状态**：选择"正常"、"异常"或"全部"
- **检测状态**：选择"待处理"、"处理中"、"已完成"、"失败"或"全部"

#### 批量操作

1. **选择记录**：
   - 点击记录卡片上的复选框
   - 可以多选记录进行批量操作

2. **批量生成报告**：
   - 选择需要生成报告的记录
   - 点击"批量生成报告"按钮
   - 系统自动生成PDF报告并下载

3. **批量更新状态**：
   - 选择需要更新状态的记录
   - 点击"批量更新状态"按钮
   - 选择新的状态（待处理/处理中/已完成/失败）
   - 确认更新

### 📊 检测记录详情

#### 查看详情

1. **点击任意检测记录卡片**
2. **系统跳转到详情页面**，显示：
   - 基本信息：检测时间、学生信息、AI评估总结
   - 问卷得分分析：雷达图显示焦虑、抑郁、压力得分
   - 生理数据趋势：折线图显示心率、脑电等数据变化
   - 详细数据表格：分标签页显示问卷得分和生理数据

#### 数据下载

- **下载得分数据**：点击"下载得分数据"按钮，下载CSV格式的问卷得分
- **下载生理数据**：点击"下载生理数据"按钮，下载CSV格式的生理数据

### 📤 数据导出

#### 导出学生数据

1. **点击"导出学生数据"按钮**
2. **系统自动生成Excel文件**
3. **文件包含**：学号、姓名、班级、性别、创建时间

#### 导出检测记录

1. **设置筛选条件**（可选）
2. **点击"导出检测记录"按钮**
3. **系统根据筛选条件导出Excel文件**
4. **文件包含**：记录ID、学号、姓名、班级、检测时间、AI总结、是否异常、状态、问卷得分、生理数据

#### 导出统计数据

1. **点击"导出统计数据"按钮**
2. **系统生成多Sheet的Excel文件**：
   - 统计概览：基础统计数据
   - 班级分布：各班级学生数量
   - 得分分布：各分数段人数统计

---

## 报告管理

### 📄 生成报告

#### 单个报告生成

1. **进入报告管理页面**
   - 点击左侧菜单"报告管理"
   - 或访问：`http://localhost:8080/reports`

2. **输入学号**
   - 在输入框中输入学生学号
   - 点击"查看报告"按钮

3. **预览报告内容**
   - 系统显示报告文本内容
   - 包含学生信息、检测记录、问卷得分、生理数据等

#### 批量报告生成

1. **在检测记录页面选择多个记录**
2. **点击"批量生成报告"按钮**
3. **选择报告格式**（PDF或Excel）
4. **系统自动生成并下载报告文件**

### 📥 下载报告

#### 在线预览

- 在报告预览页面可以直接查看报告内容
- 支持文本格式的完整报告信息

#### 文件下载

1. **选择下载格式**：
   - PDF格式：适合打印和正式文档
   - Excel格式：适合数据分析和编辑

2. **点击"下载报告"按钮**
3. **文件命名规则**：`姓名_学号.pdf` 或 `姓名_学号.xlsx`

### 📋 报告内容说明

- **学生基本信息**：姓名、学号、班级、性别
- **检测记录汇总**：所有检测记录的时间、状态、异常情况
- **问卷得分详情**：焦虑、抑郁、压力三个维度的具体得分
- **生理数据详情**：心率、脑电等生理指标数据
- **AI评估总结**：系统自动生成的心理状态评估和建议

---

## 数据统计分析

### 📊 仪表板统计

#### 基础统计指标

- **总学生数**：系统中注册的所有学生数量
- **检测记录总数**：所有心理检测记录的数量
- **异常记录数**：检测结果为异常的学生数量
- **今日检测数**：当天进行心理检测的学生数量

#### 趋势分析

- **检测趋势图**：显示指定时间段内的检测数量变化
- **时间范围选择**：支持7天、30天、90天三种时间范围
- **数据更新**：选择时间范围后图表自动更新

#### 分布分析

- **异常状态分布**：正常与异常检测记录的比例
- **问卷得分分布**：各分数段的学生人数统计
- **班级学生分布**：各班级的学生人数分布

### 📈 图表功能

#### 交互式图表

- **鼠标悬停**：显示具体数值
- **图例点击**：显示/隐藏特定数据系列
- **缩放功能**：支持图表缩放查看细节

#### 数据导出

- **图表截图**：右键保存图表为图片
- **数据导出**：点击导出按钮下载原始数据

### 🔍 高级筛选

#### 多维度筛选

- **时间维度**：按检测时间筛选
- **状态维度**：按异常状态筛选
- **班级维度**：按班级筛选
- **性别维度**：按性别筛选

#### 组合筛选

- 支持多个筛选条件同时使用
- 筛选结果实时更新
- 支持筛选条件重置

---

## 系统设置

### 👤 用户管理

#### 修改密码

1. **点击右上角用户头像**
2. **选择"修改密码"**
3. **输入当前密码和新密码**
4. **确认修改**

#### 个人信息

- **查看当前用户信息**
- **更新个人资料**（如需要）

### ⚙️ 系统配置

#### 数据库管理

- **数据备份**：定期备份学生和检测数据
- **数据恢复**：从备份文件恢复数据
- **数据清理**：清理过期或无效数据

#### 日志管理

- **查看系统日志**：监控系统运行状态
- **错误日志**：查看系统错误信息
- **操作日志**：记录用户操作历史

### 🔧 维护功能

#### 系统健康检查

- **数据库连接状态**
- **服务运行状态**
- **磁盘空间使用情况**

#### 性能优化

- **缓存清理**：清理系统缓存
- **数据索引优化**：优化数据库查询性能

---

## 常见问题

### ❓ 登录问题

**Q: 忘记管理员密码怎么办？**
A: 联系系统管理员重置密码，或使用系统提供的密码重置功能。

**Q: 登录后页面显示异常怎么办？**
A: 清除浏览器缓存，刷新页面，或尝试使用其他浏览器。

### ❓ 数据导入问题

**Q: Excel导入失败怎么办？**
A: 检查Excel文件格式是否正确，确保列名完全匹配，必填字段不为空。

**Q: 导入时提示学号重复怎么办？**
A: 检查Excel中是否有重复的学号，或该学号已在系统中存在。

**Q: 导入的Excel文件格式要求是什么？**
A: 必须包含name、student_id、class_name、gender四列，列名必须完全一致。

### ❓ 检测记录问题

**Q: 检测记录显示不完整怎么办？**
A: 检查筛选条件设置，或刷新页面重新加载数据。

**Q: 批量操作失败怎么办？**
A: 确保选择了有效的记录，检查网络连接，重试操作。

### ❓ 报告生成问题

**Q: 报告生成失败怎么办？**
A: 检查学生是否有检测记录，确保数据完整性，重试生成。

**Q: 下载的报告文件打不开怎么办？**
A: 检查文件是否完整下载，尝试使用不同的PDF阅读器。

### ❓ 系统性能问题

**Q: 页面加载缓慢怎么办？**
A: 检查网络连接，清除浏览器缓存，或联系管理员检查服务器状态。

**Q: 数据导出失败怎么办？**
A: 检查数据量是否过大，尝试分批导出，或联系技术支持。

---

## 技术支持

### 📞 联系方式

- **技术支持邮箱**：support@example.com
- **紧急联系电话**：400-xxx-xxxx
- **在线帮助文档**：http://localhost:8080/help

### 🛠️ 系统要求

- **浏览器**：Chrome 80+、Firefox 75+、Safari 13+、Edge 80+
- **网络**：稳定的互联网连接
- **屏幕分辨率**：建议1920x1080或更高

### 📚 学习资源

- **用户培训视频**：系统内置帮助视频
- **操作手册**：本文档
- **FAQ常见问题**：系统帮助页面

### 🔄 系统更新

- **自动更新**：系统会自动检查并提示更新
- **手动更新**：联系管理员获取最新版本
- **更新日志**：查看系统更新说明

---

## 附录

### 📋 快捷键说明

- **Ctrl + F**：页面搜索
- **F5**：刷新页面
- **Ctrl + S**：保存当前操作
- **Esc**：关闭弹窗或取消操作

### 🎯 最佳实践

1. **定期备份数据**：建议每周备份一次重要数据
2. **及时处理异常记录**：关注异常检测记录，及时跟进
3. **合理使用筛选功能**：利用筛选功能提高工作效率
4. **批量操作**：对于大量数据，优先使用批量操作功能

### 📊 数据统计建议

1. **定期查看仪表板**：了解整体心理健康状况
2. **关注趋势变化**：通过趋势图发现潜在问题
3. **班级对比分析**：比较不同班级的心理健康水平
4. **及时导出数据**：定期导出数据进行分析和存档

---

_最后更新：2025年1月_
_版本：v1.0.0_
